action(class_name, action_name, guard, block)::=<<
; define action
; _<class_name>: <action_name> 
_<class_name>_<action_name>:
_<class_name>_<action_name>_start:
    MOV  DWORD ECX, [ESP + 4]
    ; action guard start
    <guard>
    ; action guard end

    JMP   _<class_name>_<action_name>_checkguard_fail
_<class_name>_<action_name>_succeed:
    ; action body start
    __<class_name>_<action_name>_body
    ; action body end
_<class_name>_<action_name>__checkguard_fail:
    RET
>>