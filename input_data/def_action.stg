def_action(class_name, index, guard, block) ::=<<
<class_name>_action<index>:
<class_name>_action<index>_start:
    MOV  DWORD ECX, [ESP + 4]
	; action guard start
	; <guard>
	; action guard end

	JE   <class_name>_action<index>_guardfail
	; action body start
	; <block>
	; action body end
<class_name>_action<index>_guardfail:
	RET
>>